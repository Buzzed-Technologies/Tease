<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#FAFAFA">
    <title>Dashboard | ThreadPay Secure Payment Platform</title>
    
    <!-- Supabase API Key -->
    <meta name="supabase-anon-key" content="%NEXT_PUBLIC_SUPABASE_ANON_KEY%">
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/styles/styles.css">
    <link rel="stylesheet" href="/styles/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="container header-content">
                <a href="/" class="logo">ThreadPay</a>
                <div class="header-controls">
                    <button id="logout-btn" class="btn btn-outline btn-sm"><i class="fas fa-sign-out-alt"></i> Logout</button>
                </div>
            </div>
        </header>
        
        <main class="dashboard-main container">
            <section class="user-section">
                <div class="user-welcome">
                    <div class="user-details">
                        <div id="user-avatar" class="user-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div>
                            <h2 id="welcome-message">Welcome back!</h2>
                            <p id="user-email" class="user-email"></p>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button id="edit-profile-btn" class="btn btn-outline">
                            <i class="fas fa-user-edit"></i>
                            Edit Profile
                        </button>
                    </div>
                </div>
            </section>
            
            <div class="dashboard-grid">
                <section class="dashboard-section left-column">
                    <div class="section-card">
                        <div class="section-header">
                            <h3>Your Creator</h3>
                        </div>
                        <div id="creator-loading" class="loading-state">
                            <div class="spinner"></div>
                            <p>Loading creator details...</p>
                        </div>
                        <div id="creator-info" class="creator-info" style="display: none;">
                            <div class="creator-card">
                                <div id="creator-image" class="creator-image"></div>
                                <div class="creator-details">
                                    <h4 id="creator-name" class="creator-name"></h4>
                                    <p id="creator-bio" class="creator-bio"></p>
                                    <div class="creator-stats">
                                        <div class="stat">
                                            <i class="fas fa-users"></i>
                                            <span id="creator-followers">--</span> followers
                                        </div>
                                        <div class="stat">
                                            <i class="fas fa-star"></i>
                                            <span id="creator-rating">--</span> rating
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="no-creator" class="empty-state" style="display: none;">
                            <div class="empty-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <h4>No Creator Selected</h4>
                            <p>You haven't selected a creator yet.</p>
                            <a href="/model-selection.html" class="btn btn-sm">Select Creator</a>
                        </div>
                    </div>
                    
                    <div class="section-card">
                        <div class="section-header">
                            <h3>Payment Methods</h3>
                        </div>
                        <div id="payment-methods-list" class="payment-methods">
                            <div class="loading-state">
                                <div class="spinner"></div>
                                <p>Loading payment methods...</p>
                            </div>
                        </div>
                        <div class="action-buttons center-button">
                            <button id="add-payment-method" class="btn btn-sm">
                                <i class="fas fa-plus"></i> Add Payment Method
                            </button>
                        </div>
                    </div>
                </section>
                
                <section class="dashboard-section right-column">
                    <div class="section-card">
                        <div class="section-header">
                            <h3>Recent Transactions</h3>
                        </div>
                        <div id="transactions-loading" class="loading-state">
                            <div class="spinner"></div>
                            <p>Loading transaction history...</p>
                        </div>
                        <div id="transactions-list" class="transactions-list" style="display: none;"></div>
                        <div id="no-transactions" class="empty-state" style="display: none;">
                            <div class="empty-icon">
                                <i class="fas fa-receipt"></i>
                            </div>
                            <h4>No Transactions</h4>
                            <p>You haven't made any payments yet.</p>
                        </div>
                    </div>
                    
                    <div class="section-card">
                        <div class="section-header">
                            <h3>Subscription</h3>
                        </div>
                        <div id="subscription-loading" class="loading-state">
                            <div class="spinner"></div>
                            <p>Loading subscription details...</p>
                        </div>
                        <div id="subscription-details" class="subscription-details" style="display: none;"></div>
                        <div id="no-subscription" class="empty-state" style="display: none;">
                            <div class="empty-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <h4>No Active Subscription</h4>
                            <p>You don't have an active subscription with your creator.</p>
                            <button id="subscribe-btn" class="btn btn-sm">Subscribe Now</button>
                        </div>
                    </div>
                </section>
            </div>
            
            <section class="dashboard-section full-width" id="messages-section">
                <div class="section-card">
                    <div class="section-header">
                        <h3>Messages</h3>
                    </div>
                    <div id="messages-loading" class="loading-state">
                        <div class="spinner"></div>
                        <p>Loading messages...</p>
                    </div>
                    <div id="messages-list" class="messages-list" style="display: none;"></div>
                    <div id="no-messages" class="empty-state" style="display: none;">
                        <div class="empty-icon">
                            <i class="fas fa-comment-slash"></i>
                        </div>
                        <h4>No Messages</h4>
                        <p>You haven't received any messages from your creator yet.</p>
                    </div>
                </div>
            </section>
        </main>
        
        <!-- Modal Templates -->
        <div id="payment-method-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Add Payment Method</h3>
                    <button class="modal-close"><i class="fas fa-times"></i></button>
                </div>
                <div class="modal-body">
                    <div id="card-element"></div>
                    <div id="card-errors" class="error-message" role="alert"></div>
                    <button id="submit-payment-method" class="btn full-width">Add Card</button>
                </div>
            </div>
        </div>
        
        <div id="profile-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Edit Profile</h3>
                    <button class="modal-close"><i class="fas fa-times"></i></button>
                </div>
                <div class="modal-body">
                    <form id="profile-form">
                        <div class="form-group">
                            <label for="profile-name">Full Name</label>
                            <input type="text" id="profile-name" class="form-input" placeholder="Your full name">
                        </div>
                        <div class="form-group">
                            <label for="profile-phone">Phone</label>
                            <input type="tel" id="profile-phone" class="form-input" placeholder="Your phone number">
                        </div>
                        <button type="submit" class="btn full-width">Save Changes</button>
                    </form>
                </div>
            </div>
        </div>
        
        <div id="subscription-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Choose a Subscription</h3>
                    <button class="modal-close"><i class="fas fa-times"></i></button>
                </div>
                <div class="modal-body">
                    <div id="subscription-loading-modal" class="loading-state">
                        <div class="spinner"></div>
                        <p>Loading subscription options...</p>
                    </div>
                    <div id="packages-list" class="packages-list"></div>
                </div>
            </div>
        </div>
        
        <footer>
            <div class="container footer-content">
                <div class="logo">ThreadPay</div>
                <div class="footer-links">
                    <a href="/privacy-policy.html">Privacy Policy</a>
                    <a href="/terms-of-service.html">Terms of Service</a>
                </div>
                <div class="copyright">
                    &copy; 2025 ThreadPay. All rights reserved.
                </div>
            </div>
        </footer>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.6/dist/umd/supabase.min.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <script>
        // Initialization variables
        const supabaseUrl = 'https://kigcecwfxlonrdxjwsza.supabase.co';
        let supabase;
        let stripe;
        let elements;
        let cardElement;
        let user = null;
        let creator = null;
        let subscription = null;
        let paymentMethods = [];
        let transactions = [];
        let messages = [];
        let packages = [];
        
        // Initialize Supabase
        const metaKey = document.querySelector('meta[name="supabase-anon-key"]')?.getAttribute('content');
        let supabaseKey = null;
        
        function initSupabase() {
            if (window.supabase) {
                supabase = window.supabase.createClient(supabaseUrl, supabaseKey);
                
                // Initialize Stripe
                stripe = Stripe('pk_test_51OijBrLdaoHjdkpx9SL52KkSXeGUwvZ53O7WgSF3I8b47FwdLwOMhIvtMrXWCsq55w0fmJ5zfM5YQKOXSm5oKP9w00g9iHV4Nx');
                
                // Check authentication
                checkAuth();
            } else {
                console.error('Supabase client library not loaded');
            }
        }
        
        if (metaKey && !metaKey.includes('%NEXT_PUBLIC')) {
            console.log('Using API key from meta tag');
            supabaseKey = metaKey;
            initSupabase();
        } else {
            // Fetch API key from server config endpoint
            console.log('Meta tag key not available, trying to fetch from server...');
            fetch('/api/config')
                .then(response => response.json())
                .then(config => {
                    if (config.supabaseKey) {
                        console.log('Using API key from server');
                        supabaseKey = config.supabaseKey;
                    } else {
                        // Fall back to hardcoded key
                        console.log('Using hardcoded API key as fallback');
                        supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpZ2NlY3dmeGxvbnJkeGp3c3phIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDk3OTE3MjAsImV4cCI6MjAyNTM2NzcyMH0.kw2nw7VW3QXTzWM7ynmm7Q2k7W4e5JKgf2i-k9K0Sns';
                    }
                    initSupabase();
                })
                .catch(error => {
                    console.error('Error fetching config:', error);
                    // Fall back to hardcoded key
                    console.log('Using hardcoded API key due to error');
                    supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpZ2NlY3dmeGxvbnJkeGp3c3phIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDk3OTE3MjAsImV4cCI6MjAyNTM2NzcyMH0.kw2nw7VW3QXTzWM7ynmm7Q2k7W4e5JKgf2i-k9K0Sns';
                    initSupabase();
                });
        }
        
        // Check authentication state
        async function checkAuth() {
            try {
                const { data: { user: authUser }, error } = await supabase.auth.getUser();
                
                if (error || !authUser) {
                    console.error('Authentication error:', error);
                    window.location.href = '/login.html';
                    return;
                }
                
                user = authUser;
                
                // Update welcome message
                document.getElementById('user-email').textContent = user.email || '';
                
                // Get user profile
                const { data: profile } = await supabase
                    .from('profiles')
                    .select('*')
                    .eq('id', user.id)
                    .single();
                
                if (profile) {
                    user = { ...user, ...profile };
                    
                    // Update profile details
                    if (profile.full_name) {
                        document.getElementById('welcome-message').textContent = `Welcome back, ${profile.full_name}!`;
                    }
                    
                    // Initialize dashboard data
                    loadDashboardData();
                }
            } catch (error) {
                console.error('Authentication check error:', error);
                window.location.href = '/login.html';
            }
        }
        
        // Load all dashboard data
        async function loadDashboardData() {
            loadCreatorData();
            loadPaymentMethods();
            loadTransactions();
            loadSubscription();
            loadMessages();
        }
        
        // Load creator data
        async function loadCreatorData() {
            try {
                document.getElementById('creator-loading').style.display = 'flex';
                document.getElementById('creator-info').style.display = 'none';
                document.getElementById('no-creator').style.display = 'none';
                
                if (!user.model_id) {
                    document.getElementById('creator-loading').style.display = 'none';
                    document.getElementById('no-creator').style.display = 'block';
                    return;
                }
                
                const { data, error } = await supabase
                    .from('models')
                    .select('*')
                    .eq('id', user.model_id)
                    .single();
                
                if (error || !data) {
                    document.getElementById('creator-loading').style.display = 'none';
                    document.getElementById('no-creator').style.display = 'block';
                    return;
                }
                
                creator = data;
                
                // Display creator information
                document.getElementById('creator-name').textContent = creator.name;
                document.getElementById('creator-bio').textContent = creator.bio || 'Creator on ThreadPay';
                
                // Set followers and rating
                document.getElementById('creator-followers').textContent = creator.followers_count || 0;
                document.getElementById('creator-rating').textContent = creator.rating || '5.0';
                
                // Set creator image
                let imagePath;
                if (creator.pictures) {
                    if (Array.isArray(creator.pictures) && creator.pictures.length > 0) {
                        imagePath = `https://kigcecwfxlonrdxjwsza.supabase.co/storage/v1/object/public/model-images/${creator.pictures[0].replace('.jpg', '.PNG')}`;
                    } else if (creator.pictures.main) {
                        imagePath = creator.pictures.main;
                    } else {
                        imagePath = '/images/placeholder-model.png';
                    }
                } else {
                    imagePath = '/images/placeholder-model.png';
                }
                
                document.getElementById('creator-image').style.backgroundImage = `url(${imagePath})`;
                
                // Load packages for this creator
                loadPackages();
                
                document.getElementById('creator-loading').style.display = 'none';
                document.getElementById('creator-info').style.display = 'block';
            } catch (error) {
                console.error('Error loading creator data:', error);
                document.getElementById('creator-loading').style.display = 'none';
                document.getElementById('no-creator').style.display = 'block';
            }
        }
        
        // Load payment methods
        async function loadPaymentMethods() {
            try {
                const paymentMethodsContainer = document.getElementById('payment-methods-list');
                paymentMethodsContainer.innerHTML = '<div class="loading-state"><div class="spinner"></div><p>Loading payment methods...</p></div>';
                
                // In a real implementation, this would call your backend API to get payment methods from Stripe
                // For this demo, we'll simulate a delay and show mock data
                setTimeout(() => {
                    paymentMethodsContainer.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-icon">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <h4>No Payment Methods</h4>
                            <p>You haven't added any payment methods yet.</p>
                        </div>
                    `;
                }, 1000);
            } catch (error) {
                console.error('Error loading payment methods:', error);
                document.getElementById('payment-methods-list').innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <h4>Error Loading Payment Methods</h4>
                        <p>There was an error loading your payment methods. Please try again.</p>
                    </div>
                `;
            }
        }
        
        // Load transactions
        async function loadTransactions() {
            try {
                document.getElementById('transactions-loading').style.display = 'flex';
                document.getElementById('transactions-list').style.display = 'none';
                document.getElementById('no-transactions').style.display = 'none';
                
                // Simulate transaction loading
                setTimeout(() => {
                    document.getElementById('transactions-loading').style.display = 'none';
                    document.getElementById('no-transactions').style.display = 'block';
                }, 1000);
            } catch (error) {
                console.error('Error loading transactions:', error);
                document.getElementById('transactions-loading').style.display = 'none';
                document.getElementById('no-transactions').style.display = 'block';
            }
        }
        
        // Load subscription details
        async function loadSubscription() {
            try {
                document.getElementById('subscription-loading').style.display = 'flex';
                document.getElementById('subscription-details').style.display = 'none';
                document.getElementById('no-subscription').style.display = 'none';
                
                // Simulate subscription loading
                setTimeout(() => {
                    document.getElementById('subscription-loading').style.display = 'none';
                    document.getElementById('no-subscription').style.display = 'block';
                }, 1000);
            } catch (error) {
                console.error('Error loading subscription:', error);
                document.getElementById('subscription-loading').style.display = 'none';
                document.getElementById('no-subscription').style.display = 'block';
            }
        }
        
        // Load packages for subscription
        async function loadPackages() {
            try {
                if (!creator) return;
                
                const { data, error } = await supabase
                    .from('packages')
                    .select('*')
                    .eq('model_id', creator.id)
                    .order('price', { ascending: true });
                
                if (error) throw error;
                
                packages = data || [];
            } catch (error) {
                console.error('Error loading packages:', error);
            }
        }
        
        // Load messages
        async function loadMessages() {
            try {
                document.getElementById('messages-loading').style.display = 'flex';
                document.getElementById('messages-list').style.display = 'none';
                document.getElementById('no-messages').style.display = 'none';
                
                // Simulate messages loading
                setTimeout(() => {
                    document.getElementById('messages-loading').style.display = 'none';
                    document.getElementById('no-messages').style.display = 'block';
                }, 1000);
            } catch (error) {
                console.error('Error loading messages:', error);
                document.getElementById('messages-loading').style.display = 'none';
                document.getElementById('no-messages').style.display = 'block';
            }
        }
        
        // Initialize Stripe card element
        function initializeStripeElements() {
            if (!stripe) return;
            
            elements = stripe.elements();
            cardElement = elements.create('card', {
                style: {
                    base: {
                        color: '#32325d',
                        fontFamily: '"Inter", Helvetica, sans-serif',
                        fontSmoothing: 'antialiased',
                        fontSize: '16px',
                        '::placeholder': {
                            color: '#aab7c4'
                        }
                    },
                    invalid: {
                        color: '#fa755a',
                        iconColor: '#fa755a'
                    }
                }
            });
            
            cardElement.mount('#card-element');
            
            // Handle real-time validation errors
            cardElement.addEventListener('change', function(event) {
                const displayError = document.getElementById('card-errors');
                if (event.error) {
                    displayError.textContent = event.error.message;
                } else {
                    displayError.textContent = '';
                }
            });
        }
        
        // Display packages in modal
        function displayPackages() {
            const packagesList = document.getElementById('packages-list');
            packagesList.innerHTML = '';
            
            if (!packages || packages.length === 0) {
                packagesList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">
                            <i class="fas fa-box-open"></i>
                        </div>
                        <h4>No Packages Available</h4>
                        <p>This creator doesn't have any subscription packages available.</p>
                    </div>
                `;
                return;
            }
            
            packages.forEach(pkg => {
                const price = new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: 'USD'
                }).format(pkg.price);
                
                const packageElement = document.createElement('div');
                packageElement.className = 'package-card';
                packageElement.innerHTML = `
                    <div class="package-details">
                        <h4 class="package-name">${pkg.name}</h4>
                        <p class="package-price">${price}<span>/month</span></p>
                        <p class="package-description">${pkg.description || 'Access exclusive content with this subscription.'}</p>
                    </div>
                    <button class="btn select-package-btn" data-package-id="${pkg.id}">Select</button>
                `;
                
                packagesList.appendChild(packageElement);
            });
            
            // Add click handlers for package selection
            document.querySelectorAll('.select-package-btn').forEach(btn => {
                btn.addEventListener('click', async function() {
                    const packageId = this.getAttribute('data-package-id');
                    const selectedPackage = packages.find(p => p.id === packageId);
                    
                    if (!selectedPackage) return;
                    
                    // In a real implementation, this would redirect to a Stripe checkout session
                    alert(`You selected the ${selectedPackage.name} package. In a real implementation, this would redirect to Stripe checkout.`);
                    
                    // Close the modal
                    toggleModal('subscription-modal', false);
                });
            });
        }
        
        // Handle modal toggling
        function toggleModal(modalId, show) {
            const modal = document.getElementById(modalId);
            if (show) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                if (modalId === 'payment-method-modal') {
                    initializeStripeElements();
                } else if (modalId === 'profile-modal') {
                    // Populate profile form
                    document.getElementById('profile-name').value = user.full_name || '';
                    document.getElementById('profile-phone').value = user.phone || '';
                } else if (modalId === 'subscription-modal') {
                    // Show loading state
                    document.getElementById('subscription-loading-modal').style.display = 'flex';
                    document.getElementById('packages-list').style.display = 'none';
                    
                    // Load packages
                    setTimeout(() => {
                        document.getElementById('subscription-loading-modal').style.display = 'none';
                        document.getElementById('packages-list').style.display = 'block';
                        displayPackages();
                    }, 500);
                }
            } else {
                modal.classList.remove('active');
                document.body.style.overflow = '';
                
                if (modalId === 'payment-method-modal') {
                    if (cardElement) {
                        cardElement.unmount();
                        cardElement = null;
                    }
                }
            }
        }
        
        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Modal close buttons
            document.querySelectorAll('.modal-close').forEach(btn => {
                btn.addEventListener('click', function() {
                    const modal = this.closest('.modal');
                    toggleModal(modal.id, false);
                });
            });
            
            // Modal background clicks
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        toggleModal(this.id, false);
                    }
                });
            });
            
            // Open payment method modal
            document.getElementById('add-payment-method').addEventListener('click', function() {
                toggleModal('payment-method-modal', true);
            });
            
            // Open profile modal
            document.getElementById('edit-profile-btn').addEventListener('click', function() {
                toggleModal('profile-modal', true);
            });
            
            // Open subscription modal
            document.getElementById('subscribe-btn').addEventListener('click', function() {
                toggleModal('subscription-modal', true);
            });
            
            // Submit payment method form
            document.getElementById('submit-payment-method').addEventListener('click', async function() {
                this.disabled = true;
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                
                const errorElement = document.getElementById('card-errors');
                
                try {
                    // Simulated success
                    setTimeout(() => {
                        alert('Payment method added successfully!');
                        toggleModal('payment-method-modal', false);
                        loadPaymentMethods();
                        
                        // Reset form
                        this.disabled = false;
                        this.textContent = 'Add Card';
                    }, 1500);
                } catch (error) {
                    console.error('Error adding payment method:', error);
                    errorElement.textContent = error.message || 'An error occurred while adding your payment method.';
                    this.disabled = false;
                    this.textContent = 'Add Card';
                }
            });
            
            // Submit profile form
            document.getElementById('profile-form').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
                
                const fullName = document.getElementById('profile-name').value;
                const phone = document.getElementById('profile-phone').value;
                
                try {
                    // Update profile in database
                    const { error } = await supabase
                        .from('profiles')
                        .update({
                            full_name: fullName,
                            phone: phone
                        })
                        .eq('id', user.id);
                    
                    if (error) throw error;
                    
                    // Update local user data
                    user.full_name = fullName;
                    user.phone = phone;
                    
                    // Update UI
                    document.getElementById('welcome-message').textContent = `Welcome back, ${fullName}!`;
                    
                    // Close modal
                    toggleModal('profile-modal', false);
                    
                    // Show success message
                    alert('Profile updated successfully!');
                } catch (error) {
                    console.error('Error updating profile:', error);
                    alert('Error updating profile. Please try again.');
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Save Changes';
                }
            });
            
            // Logout button
            document.getElementById('logout-btn').addEventListener('click', async function() {
                try {
                    await supabase.auth.signOut();
                    window.location.href = '/';
                } catch (error) {
                    console.error('Error signing out:', error);
                    alert('Error signing out. Please try again.');
                }
            });
        });
    </script>
</body>
</html> 